---
title: "Observability"
description: "Audit logging, wide events, and timing utilities."
---

The gateway emits structured telemetry for auditing and operational analysis.

## Audit logging

`apps/api/src/pipeline/audit` handles durable request logging and billing records:

- `index.ts` writes request rows to storage.
- `axiom.ts` formats and forwards audit events to Axiom.

## Wide event logging

`apps/api/src/observability` emits a single wide event per request:

- `events.ts` builds `gateway.request` events with routing, timing, and usage fields.
- `axiom.ts` sends wide events to the configured dataset.
- `privacy.ts` centralizes field redaction for telemetry safety.

## Timing and streaming

- `apps/api/src/pipeline/telemetry/timer.ts` captures spans and builds `Server-Timing` headers.
- `apps/api/src/pipeline/after/streaming.ts` rewrites SSE frames and captures final usage for billing.
